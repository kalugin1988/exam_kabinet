<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—Å–∞–¥–∫–∏ —É—á–µ–Ω–∏–∫–æ–≤</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üéì –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—Å–∞–¥–∫–∏ —É—á–µ–Ω–∏–∫–æ–≤</h1>
            <nav>
                <a href="/print" class="btn btn-primary">–ü–µ—á–∞—Ç—å</a>
                <a href="/kabinet" class="btn btn-primary">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–±–∏–Ω–µ—Ç–∞–º–∏</a>
            </nav>
        </header>

        <div class="controls">
            <div class="control-buttons">
                <button class="btn btn-success" onclick="showSubjectModal()">–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–∞–¥–∫—É</button>
                <button class="btn btn-warning" onclick="clearSeating()">–û—á–∏—Å—Ç–∏—Ç—å –ø–æ—Å–∞–¥–∫—É</button>
                <button class="btn btn-danger" onclick="clearAllData()">–£–¥–∞–ª–∏—Ç—å –≤—Å–µ—Ö —É—á–µ–Ω–∏–∫–æ–≤</button>
                <button class="btn btn-info" onclick="exportToJson()">–≠–∫—Å–ø–æ—Ä—Ç –≤ JSON</button>
                <button class="btn btn-info" onclick="document.getElementById('importFile').click()">–ò–º–ø–æ—Ä—Ç –∏–∑ JSON</button>
                <input type="file" id="importFile" accept=".json" style="display: none;">
            </div>
        </div>

        <div id="classroomsContainer" class="classrooms-container">
            <!-- –ö–∞–±–∏–Ω–µ—Ç—ã –±—É–¥—É—Ç –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω—ã –∑–¥–µ—Å—å -->
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ –ø—Ä–µ–¥–º–µ—Ç–∞ -->
    <div id="subjectModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeSubjectModal()">&times;</span>
            <h3>–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Å–∞–¥–∫–∏</h3>
            <select id="subjectSelect" class="form-control">
                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç --</option>
                <% subjects.forEach(function(subject) { %>
                    <option value="<%= subject %>"><%= subject %></option>
                <% }); %>
            </select>
            <button class="btn btn-success" onclick="generateSeating()" style="margin-top: 15px; width: 100%;">
                –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–∞–¥–∫—É
            </button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—á–µ–Ω–∏–∫–µ -->
    <div id="studentModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeStudentModal()">&times;</span>
            <div id="studentInfo">
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—á–µ–Ω–∏–∫–µ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –ø–∞—Ä—Ç—ã -->
    <div id="moveDeskModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeMoveDeskModal()">&times;</span>
            <div id="moveDeskModalContent">
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
    </div>

    <script>
        // –ü–µ—Ä–µ–¥–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ EJS –≤ JavaScript
        const classroomsData = <%- JSON.stringify(classrooms) %>;
        const studentsData = <%- JSON.stringify(students) %>;
        const parallelColors = <%- JSON.stringify(parallelColors) %>;
    </script>
    <script src="script.js"></script>
</body>
</html>